<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tarun — AI Developer Portfolio</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=EB+Garamond:ital,wght@0,400..800;1,400..800&family=Share+Tech+Mono&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap"
    rel="stylesheet">
  <script src="model_weights.js"></script> <!-- Real MNIST Weights -->
  <style>
    :root {
      /* GLOBAL VARIABLES */
      --bg-body: #fdfdfd;
      --bg-card: #ffffff;
      --text-main: #1a1a1a;
      --text-sub: #666666;
      --text-code: #24292e;
      --accent: #1f5cff;
      --border: #e1e4e8;
      --border-sub: #eaecef;
      --border-nav: #e1e4e8;
      --grid-line: rgba(31, 92, 255, 0.15);
      /* FONTS */
      --font-serif: 'EB Garamond', Georgia, serif;
      --font-mono-sys: 'Share Tech Mono', monospace;
      --font-mono-code: 'JetBrains Mono', monospace;
      --font-pixel: 'Press Start 2P', cursive;
      /* VIZ COLORS */
      --winner: #00d4ff;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: var(--bg-body);
      color: var(--text-main);
      font-family: var(--font-serif);
      line-height: 1.6;
      font-size: 18px;
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden;
    }

    /* --------------------
           LAYOUT & HEADER
        -------------------- */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 60px;
      display: flex;
      align-items: center;
      padding: 0 16px 0 40px;
      background: var(--bg-card);
      z-index: 500;
      border-bottom: 1px solid var(--border);
    }

    .header-brand {
      width: 240px;
      font-family: var(--font-pixel);
      font-size: 16px;
      color: var(--accent);
      letter-spacing: 0;
      text-transform: uppercase;
      font-weight: 400;
      line-height: 1;
    }

    .header-status {
      margin-left: auto;
      font-family: var(--font-mono-sys);
      font-size: 11px;
      color: var(--text-sub);
      text-transform: uppercase;
      letter-spacing: 1px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .page-wrapper {
      padding-top: 60px;
      min-height: 100vh;
      display: flex;
      justify-content: center;
    }

    /* --------------------
           MAIN CONTENT
        -------------------- */
    .main-content {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .article-container {
      width: 100%;
      max-width: 1000px;
      margin: 0 auto;
      padding: 60px 40px 100px;
    }

    .article-header {
      text-align: center;
      margin-bottom: 48px;
    }

    .article-meta {
      font-family: var(--font-mono-sys);
      font-size: 10px;
      color: var(--accent);
      text-transform: uppercase;
      letter-spacing: 1.5px;
      margin-bottom: 20px;
      border-bottom: 1px solid var(--accent);
      padding-bottom: 8px;
      display: inline-block;
    }

    .article-title {
      font-family: var(--font-mono-sys);
      font-size: 3.5rem;
      font-weight: 400;
      line-height: 1.1;
      color: var(--text-main);
      margin-bottom: 24px;
      letter-spacing: -2px;
      text-transform: uppercase;
    }

    .divider {
      width: 44px;
      height: 1px;
      background: #1a1a1a;
      margin: 40px auto;
    }

    /* --------------------
           SECTIONS & CARDS
        -------------------- */
    .content-section {
      margin-bottom: 60px;
    }

    .content-section h2 {
      font-family: var(--font-mono-sys);
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: var(--text-sub);
      margin-bottom: 24px;
      border-bottom: 1px solid var(--border);
      padding-bottom: 8px;
    }

    .content-section p {
      font-family: var(--font-serif);
      font-size: 1.15rem;
      line-height: 1.7;
      color: var(--text-main);
      margin-bottom: 24px;
      max-width: 75ch;
    }

    /* Terminal Card (Used for Skills/Experience) */
    .terminal-card {
      border: 1px solid var(--border);
      margin-bottom: 40px;
      background: var(--bg-card);
      border-radius: 2px;
    }

    .terminal-row {
      display: flex;
      border-bottom: 1px solid var(--border);
      padding: 24px 30px;
    }

    .terminal-row:last-child {
      border-bottom: none;
    }

    .terminal-label {
      font-family: var(--font-mono-sys);
      color: var(--text-sub);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 1px;
      width: 140px;
      flex-shrink: 0;
      padding-top: 4px;
    }

    .terminal-content {
      flex: 1;
    }

    .terminal-content.mono {
      font-family: var(--font-mono-code);
      font-size: 14px;
    }

    .terminal-content.serif {
      font-family: var(--font-serif);
      font-size: 16px;
    }

    .skill-group {
      margin-bottom: 12px;
    }

    .skill-title {
      font-family: var(--font-mono-sys);
      font-size: 10px;
      color: var(--text-sub);
      text-transform: uppercase;
      margin-bottom: 4px;
    }

    /* --------------------
           NEURAL NETWORK HERO
        -------------------- */
    .nn-hero {
      display: flex;
      flex-wrap: wrap;
      /* Allow metrics to break to new line */
      /* align-items: center; REMOVED to allow top alignment */
      gap: 30px;
      border: 1px solid var(--accent);
      background-color: var(--bg-body);
      background-image:
        linear-gradient(var(--grid-line) 1px, transparent 1px),
        linear-gradient(90deg, var(--grid-line) 1px, transparent 1px);
      background-size: 20px 20px;
      padding: 30px;
      margin-bottom: 40px;
      position: relative;
      /* For tooltip positioning */
    }

    .digit-panel {
      border: 1px solid var(--border);
      background: white;
      padding: 10px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      width: 140px;
    }

    canvas {
      background: white;
      border: 1px dashed var(--accent);
      cursor: crosshair;
    }

    .prediction-label {
      font-family: var(--font-mono-sys);
      font-size: 14px;
      color: var(--text-sub);
      text-align: center;
      margin-top: 5px;
    }

    .prediction-value {
      font-family: var(--font-mono-sys);
      font-size: 32px;
      color: var(--accent);
      font-weight: bold;
      text-align: center;
      line-height: 1.2;
    }

    .btn-small-clear {
      background: white;
      border: 1px solid var(--accent);
      color: var(--accent);
      font-family: var(--font-mono-sys);
      font-size: 10px;
      padding: 6px 12px;
      cursor: pointer;
      text-transform: uppercase;
      width: 100%;
      transition: all 0.2s;
    }

    .btn-small-clear:hover {
      background: var(--accent);
      color: white;
    }

    .viz-container {
      flex: 2;
      /* Take up more space */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
      min-height: 300px;
      /* Taller */
    }

    #nnSvg {
      width: 100%;
      height: 100%;
      max-width: 800px;
      /* Allow it to be bigger */
      max-height: 350px;
      overflow: visible;
    }

    .btn-expand {
      margin-top: 10px;
      background: none;
      border: none;
      cursor: pointer;
      color: var(--text-sub);
      transition: color 0.2s;
    }

    .btn-expand:hover {
      color: var(--accent);
    }

    .btn-expand svg {
      width: 20px;
      height: 20px;
      fill: currentColor;
    }

    /* FULLSCREEN HERO MODE */
    .nn-hero.fullscreen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 9999;
      margin: 0;
      background: white;
      padding: 40px;
      box-sizing: border-box;
      display: grid;
      grid-template-columns: 200px 1fr 300px;
      /* Canvas, Viz, Metrics */
      align-items: center;
      overflow: hidden;
    }

    .nn-hero.fullscreen .metrics-panel {
      display: block !important;
      border: none;
      margin: 0;
      padding: 0;
      background: none;
    }

    .nn-hero.fullscreen #nnSvg {
      max-width: none;
      height: 80vh;
      /* Bigger viz */
      width: 100%;
    }

    .nn-hero.fullscreen .digit-panel {
      transform: scale(1.5);
      /* Bigger input */
    }

    /* METRICS PANEL (Normal) */
    .metrics-panel {
      width: 100%;
      border-top: 1px dashed var(--border);
      padding-top: 20px;
      margin-top: 10px;
      display: none;
      /* Toggled */
    }

    .chart-container {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .bar-row {
      display: flex;
      align-items: center;
      gap: 10px;
      font-family: var(--font-mono-sys);
      font-size: 11px;
    }

    .bar-label {
      width: 15px;
      font-weight: bold;
    }

    .bar-ui {
      flex: 1;
      height: 8px;
      background: #eee;
      border-radius: 2px;
      overflow: hidden;
    }

    .bar-fill {
      height: 100%;
      background: var(--accent);
      width: 0%;
      transition: width 0.3s;
    }

    .stats-container {
      font-family: var(--font-mono-sys);
      font-size: 12px;
      color: var(--text-sub);
      margin-top: 20px;
      line-height: 1.6;
    }

    .btn-close-fs {
      display: none;
      position: absolute;
      top: 30px;
      right: 30px;
      background: none;
      border: 1px solid var(--accent);
      padding: 8px 16px;
      font-family: var(--font-mono-sys);
      cursor: pointer;
      color: var(--accent);
      text-transform: uppercase;
    }

    .nn-hero.fullscreen .btn-close-fs {
      display: block;
    }

    .nn-hero.fullscreen .btn-expand {
      display: none;
    }

    /* TOOLTIP */
    #nn-tooltip {
      position: absolute;
      background: rgba(0, 0, 0, 0.85);
      color: white;
      padding: 8px 12px;
      border-radius: 4px;
      font-family: var(--font-mono-sys);
      font-size: 10px;
      pointer-events: none;
      top: 0;
      left: 0;
      opacity: 0;
      transition: opacity 0.2s;
      z-index: 10;
      white-space: pre-line;
      border: 1px solid #444;
    }

    .neuron {
      fill: white;
      stroke: var(--accent);
      stroke-width: 1.5px;
      opacity: 0.4;
      transition: fill 0.1s;
      cursor: pointer;
      /* Signal interactivity */
    }

    .neuron.active {
      fill: var(--accent);
      opacity: 0.8;
    }

    .neuron:hover {
      stroke: var(--text-main);
      stroke-width: 2px;
      opacity: 1 !important;
    }

    .neuron.winner {
      fill: var(--winner);
      stroke: var(--accent);
      stroke-width: 2.5px;
      filter: drop-shadow(0 0 3px var(--winner));
    }

    .edge {
      stroke: rgba(31, 92, 255, 0.3);
      stroke-width: 0.8px;
      opacity: 0.1;
      /* Lower default opacity for real lines */
      transition: all 0.3s;
    }

    .edge.active {
      stroke: var(--accent);
      opacity: 0.5;
    }

    .edge:hover {
      stroke: var(--text-main);
      stroke-width: 2px;
      opacity: 1 !important;
    }

    .btn-train {
      background: var(--accent);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      font-family: var(--font-mono-sys);
      font-size: 12px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-train:hover {
      filter: brightness(1.1);
      box-shadow: 0 0 10px rgba(31, 92, 255, 0.3);
    }

    .lc-annotation {
      font-family: var(--font-mono-sys);
      font-size: 9px;
      color: var(--text-sub);
      text-transform: uppercase;
      opacity: 0;
      transition: opacity 0.5s ease;
      pointer-events: none;
    }

    .lc-annotation.visible {
      opacity: 0.6;
    }

    .loop-indicator {
      font-family: var(--font-mono-sys);
      font-size: 10px;
      color: var(--accent);
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      pointer-events: none;
      opacity: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
    }

    .loop-active .loop-indicator {
      animation: loopPulse 1.5s infinite;
    }

    @keyframes loopPulse {

      0%,
      100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.9);
      }

      50% {
        opacity: 0.8;
        transform: translate(-50%, -50%) scale(1.1);
      }
    }

    .lc-analogy-box {
      margin-top: 30px;
      padding: 20px;
      border-left: 2px solid var(--accent);
      background: rgba(31, 92, 255, 0.03);
      font-family: var(--font-serif);
      font-size: 16px;
      color: var(--text-main);
      line-height: 1.5;
    }

    /* --------------------
           EXPERIENCE VISUALIZATIONS (NN + GIT)
        -------------------- */
    .experience-section {
      background-color: var(--bg-body);
      background-image:
        linear-gradient(var(--grid-line) 1px, transparent 1px),
        linear-gradient(90deg, var(--grid-line) 1px, transparent 1px);
      background-size: 20px 20px;
      padding: 80px 0;
      margin-top: 60px;
      position: relative;
      color: var(--text-main);
      overflow: hidden;
      border-top: 1px solid var(--border);
      border-bottom: 1px solid var(--border);
    }

    .exp-header {
      border: 1px solid var(--accent);
      display: inline-block;
      padding: 6px 20px;
      margin-bottom: 30px;
      margin-left: 40px;
      background: white;
      box-shadow: 4px 4px 0px var(--grid-line);
    }

    .exp-header h2 {
      font-family: var(--font-mono-sys);
      font-size: 16px;
      color: var(--accent);
      text-transform: uppercase;
      letter-spacing: 2px;
      border: none;
      margin: 0;
      padding: 0;
    }

    .viz-tabs {
      display: flex;
      gap: 15px;
      margin: 0 40px 40px 40px;
    }

    .viz-tab {
      font-family: var(--font-mono-sys);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 1px;
      padding: 8px 16px;
      background: transparent;
      border: 1px solid var(--border);
      color: var(--text-sub);
      cursor: pointer;
      transition: all 0.2s;
    }

    .viz-tab.active {
      background: white;
      border-color: var(--accent);
      color: var(--accent);
      box-shadow: 2px 2px 0px var(--grid-line);
    }

    .viz-tab:hover {
      border-color: var(--accent);
      color: var(--accent);
    }

    .viz-container {
      width: 100%;
      height: 450px;
      position: relative;
      display: none;
    }

    .viz-container.active {
      display: block;
    }

    #nnSvg,
    #gitSvg {
      width: 100%;
      height: 100%;
    }

    /* Neural Network Styles */
    .nn-layer {
      cursor: pointer;
      transition: all 0.3s;
    }

    .nn-node {
      fill: white;
      stroke: var(--accent);
      stroke-width: 1;
      transition: all 0.3s;
    }

    .nn-layer:hover .nn-node {
      fill: var(--accent);
      stroke-width: 2;
    }

    .nn-connection {
      stroke: var(--grid-line);
      stroke-width: 0.5;
      opacity: 0.3;
      transition: all 0.3s;
    }

    .nn-connection.active {
      stroke: var(--accent);
      stroke-width: 1;
      opacity: 0.8;
    }

    .nn-label {
      font-family: var(--font-mono-sys);
      font-size: 11px;
      fill: var(--text-main);
      text-transform: uppercase;
      letter-spacing: 1px;
      cursor: pointer;
    }

    .nn-year {
      font-family: var(--font-mono-sys);
      font-size: 9px;
      fill: var(--text-sub);
      letter-spacing: 1px;
    }

    /* Git Graph Styles */
    .git-branch {
      stroke-width: 2;
      fill: none;
      transition: all 0.3s;
    }

    .git-branch.ml {
      stroke: var(--accent);
    }

    .git-branch.infra {
      stroke: var(--winner);
    }

    .git-branch.opensource {
      stroke: #9b59b6;
    }

    .git-commit {
      cursor: pointer;
      transition: all 0.3s;
    }

    .git-commit circle {
      fill: white;
      stroke-width: 2;
      transition: all 0.3s;
    }

    .git-commit:hover circle {
      r: 8;
      filter: drop-shadow(0 0 4px currentColor);
    }

    .git-label {
      font-family: var(--font-mono-sys);
      font-size: 13px !important;
      fill: var(--text-main);
      text-transform: uppercase;
      letter-spacing: 1px;
      font-weight: 700 !important;
    }

    .git-date {
      font-family: var(--font-mono-sys);
      font-size: 11px !important;
      fill: var(--text-sub);
      font-weight: 600 !important;
      letter-spacing: 0.5px;
    }

    .git-legend {
      font-family: var(--font-mono-sys);
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* --- GIT GRAPH ANIMATIONS --- */
    @keyframes drawLine {
      to {
        stroke-dashoffset: 0;
      }
    }

    @keyframes fadeInNode {
      from {
        opacity: 0;
        transform: scale(0);
      }

      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes zoomOutGraph {
      from {
        transform: scale(2.5);
        transform-origin: 150px 400px;
      }

      to {
        transform: scale(1);
        transform-origin: 150px 400px;
      }
    }

    .git-path-anim {
      /* Stroke-dasharray set by JS */
      animation: drawLine 1.5s ease-out forwards;
    }

    .git-node-anim {
      opacity: 0;
      transform-box: fill-box;
      transform-origin: center;
      animation: fadeInNode 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    }

    #gitSvg.zooming {
      animation: zoomOutGraph 2s cubic-bezier(0.25, 1, 0.5, 1) forwards;
    }

    /* Shared Info Card */
    .exp-info-card {
      position: absolute;
      background: white;
      border: 1px solid var(--accent);
      padding: 24px;
      border-radius: 0;
      width: 360px;
      box-shadow: 8px 8px 0px var(--grid-line);
      opacity: 0;
      transform: translateY(15px);
      transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
      pointer-events: none;
      z-index: 1000;
    }

    .exp-info-card.visible {
      opacity: 1;
      transform: translateY(0);
      pointer-events: all;
    }

    .exp-info-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      border-bottom: 0.5px solid var(--border);
      margin-bottom: 12px;
      padding-bottom: 8px;
    }

    .exp-info-title {
      font-family: var(--font-mono-sys);
      font-size: 13px;
      color: var(--accent);
      text-transform: uppercase;
      letter-spacing: 1px;
      margin: 0;
    }

    .exp-info-meta {
      font-family: var(--font-mono-sys);
      font-size: 9px;
      color: var(--text-sub);
    }

    .exp-info-desc {
      font-family: var(--font-mono-code);
      font-size: 11px;
      line-height: 1.6;
      color: var(--text-main);
    }

    .learning-curve-card {
      background: var(--bg-card);
      border-radius: 8px;
      padding: 20px;
      box-shadow: var(--shadow);
      margin-top: 40px;
      position: relative;
    }

    .learning-curve-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 20px;
    }

    .lc-title {
      font-family: var(--font-mono-sys);
      color: var(--text-main);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .graph-container {
      position: relative;
      width: 100%;
      height: 250px;
      margin-top: 20px;
      background: var(--bg-card-dark);
      border-radius: 4px;
      overflow: hidden;
    }

    #learningCurveSvg {
      width: 100%;
      height: 100%;
    }

    .curve-path {
      fill: none;
      stroke: var(--accent);
      stroke-width: 2px;
      stroke-dasharray: 1000;
      /* Needs to be longer than path */
      stroke-dashoffset: 1000;
    }

    @keyframes drawCurve {
      to {
        stroke-dashoffset: 0;
      }
    }

    .grid-lines line {
      stroke: var(--border);
      stroke-width: 0.5px;
    }

    .axis-label {
      font-family: var(--font-mono-sys);
      font-size: 10px;
      fill: var(--text-sub);
    }

    .data-point {
      fill: var(--accent);
      stroke: white;
      stroke-width: 1.5px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .data-point:hover {
      fill: var(--accent);
      stroke: var(--accent);
      stroke-width: 3px;
      transform: scale(1.2);
    }

    .lc-tooltip {
      position: absolute;
      background: rgba(0, 0, 0, 0.85);
      color: white;
      padding: 8px 12px;
      border-radius: 4px;
      font-family: var(--font-mono-sys);
      font-size: 10px;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.2s;
      z-index: 10;
      white-space: pre-line;
      border: 1px solid #444;
      max-width: 200px;
      text-align: center;
    }

    .lc-tooltip.visible {
      opacity: 1;
    }

    .training-log {
      background: var(--bg-card-dark);
      border-radius: 4px;
      padding: 10px;
      margin-top: 20px;
      font-family: var(--font-mono-sys);
      font-size: 10px;
      color: var(--text-sub);
      height: 80px;
      overflow-y: auto;
      line-height: 1.5;
    }

    .training-log div {
      margin-bottom: 2px;
    }

    /* --------------------
           FOOTER
        -------------------- */
    .nav-footer {
      display: flex;
      justify-content: center;
      gap: 20px;
      padding: 40px 0;
      border-top: 1px solid var(--border);
      margin-top: 60px;
    }

    .nav-footer a {
      font-family: var(--font-mono-sys);
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      color: var(--text-sub);
      text-decoration: none;
      padding: 12px 20px;
      border: 1px solid var(--border);
      transition: all 0.2s;
    }

    .nav-footer a:hover {
      border-color: var(--accent);
      color: var(--accent);
    }

    .page-footer {
      text-align: center;
      padding: 40px 0;
      font-family: var(--font-mono-sys);
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: var(--text-sub);
    }

    /* --------------------
           RESPONSIVE
        -------------------- */
    @media (max-width: 1000px) {
      .header {
        padding: 0 20px;
      }

      .article-container {
        padding: 40px 20px;
      }

      .nn-hero {
        flex-direction: column;
        align-items: flex-start;
      }

      .terminal-row {
        flex-direction: column;
        gap: 10px;
      }

      .terminal-label {
        width: 100%;
      }
    }
  </style>
</head>

<body>

  <!-- HEADER -->
  <header class="header">
    <div class="header-brand">T.</div>
    <div class="header-status">
      <span>READY</span>
      <div style="width:30px; height:1px; background:#ccc;"></div>
    </div>
  </header>

  <div class="page-wrapper">

    <!-- MAIN CONTENT -->
    <main class="main-content">
      <div class="article-container">

        <!-- TITLE -->
        <header class="article-header" id="hero">
          <div class="article-meta">AI ARCHITECT</div>
          <h1 class="article-title">Developers Portfolio.</h1>
        </header>

        <div class="divider"></div>

        <!-- NEURAL NETWORK HERO -->
        <div class="nn-hero" id="nnHero">
          <button class="btn-close-fs" id="btnCloseFS">EXIT FULLSCREEN</button>

          <div class="digit-panel">
            <canvas id="digitCanvas" width="120" height="120"></canvas>
            <div class="prediction-label">PREDICTION</div>
            <div class="prediction-value" id="predValue">-</div>
            <div
              style="font-family:var(--font-mono-sys); font-size:10px; color:var(--accent); text-align:center; margin-top:5px;">
              INPUT (28×28)</div>
            <button id="btnClearSmall" class="btn-small-clear">CLEAR</button>
          </div>

          <div class="viz-container">
            <svg id="nnSvg" viewBox="0 0 520 220"></svg>
            <div
              style="font-family:var(--font-mono-sys); font-size:11px; color:var(--text-sub); margin-top:10px; text-align:center;">
              Interactive Neural Network (Trained on MNIST).<br>Draw a digit (0-9).
            </div>
            <button class="btn-expand" id="btnExpand" title="Toggle Metrics">
              <!-- Chevron Down Icon -->
              <svg viewBox="0 0 24 24">
                <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z" />
              </svg>
            </button>
          </div>

          <!-- Tooltip -->
          <div id="nn-tooltip"></div>

          <!-- Metrics Panel -->
          <div class="metrics-panel" id="metricsPanel">
            <div class="chart-container" id="confChart">
              <!-- Bars injected by JS -->
            </div>
            <div class="stats-container">
              <div style="margin-bottom:10px;"><strong>NETWORK STATS</strong></div>
              <div>L0 (Input): 784 Nodes</div>
              <div>L1 (Hidden): 64 Neurons (ReLU)</div>
              <div>L2 (Output): 10 Neurons (Softmax)</div>
              <div>Total Parameters: ~50k</div>
              <div style="margin-top:10px;">Inference Time: <span id="infTime">0</span>ms</div>
            </div>
          </div>
        </div>

        <!-- ABOUT -->
        <section class="content-section" id="about">
          <h2>01 // About</h2>
          <p>
            Highly motivated web developer with a passion for open source contributions.
            Proven track record in delivering high-quality solutions through teamwork.
            Eager to apply expertise to tackle real-world challenges and thrive in continuous learning.
          </p>
        </section>

        <!-- SKILLS -->
        <section class="content-section" id="skills">
          <h2>02 // Technical Skills</h2>
          <div class="terminal-card">

            <div class="terminal-row">
              <div class="terminal-label">LANGUAGES</div>
              <div class="terminal-content mono">Python, JavaScript (JS), SQL</div>
            </div>

            <div class="terminal-row">
              <div class="terminal-label">WEB & FRAMEWORKS</div>
              <div class="terminal-content mono">
                Django, FastAPI, Flask, Streamlit, REST APIs, HTML, CSS, Bootstrap
              </div>
            </div>

            <div class="terminal-row">
              <div class="terminal-label">AI & ML</div>
              <div class="terminal-content mono">
                Supervised/Unsupervised Learning, CNN, DL, NLP, LLM, RAG, Scikit-learn, TensorFlow, PyTorch, Pandas,
                NumPy, LangChain, LangGraph, Crew.ai
              </div>
            </div>

            <div class="terminal-row">
              <div class="terminal-label">DATA & TOOLS</div>
              <div class="terminal-content mono">
                MySQL, PostgreSQL, MongoDB, Redis, SQLite, ChromaDB, Git, GitHub, GitLab, AWS, Docker, Kubernetes
              </div>
            </div>

          </div>
        </section>

        <!-- EXPERIENCE VISUALIZATION -->
        <section class="experience-section" id="experience">
          <div class="exp-header">
            <h2>03 // Experience</h2>
          </div>

          <!-- Shared Info Card -->
          <div id="expInfoCard" class="exp-info-card">
            <div class="exp-info-header">
              <div class="exp-info-title" id="expInfoTitle">ROLE TITLE</div>
              <div class="exp-info-meta" id="expInfoMeta">2024-PRESENT</div>
            </div>
            <div class="exp-info-desc" id="expInfoDesc">Technical specifications and project outcomes...</div>
          </div>

          <div class="viz-container active" id="gitViz">
            <svg id="gitSvg" viewBox="0 0 1400 500" preserveAspectRatio="xMidYMid meet">
              <g id="gitZoomGroup">
                <!-- Main timeline: Open Source (Moved to bottom y=400) -->
                <line class="git-path" id="path-0" x1="100" y1="400" x2="1350" y2="400" stroke="#9CA3AF"
                  stroke-width="3" />

                <!-- Open Source commit (y=400) -->
                <g class="git-commit git-node" id="node-0" onclick="showExpInfo(0)">
                  <circle cx="150" cy="400" r="14" fill="#e8e8e8" stroke="#9CA3AF" stroke-width="3" />
                  <text class="git-label" x="150" y="445" text-anchor="middle" fill="var(--text-sub)">Open Source</text>
                </g>

                <!-- Branch point for UST -->
                <circle class="git-node-sm" cx="500" cy="400" r="6" fill="var(--border)" />

                <!-- Smooth S-curve UP for UST branch (400 -> 220) -->
                <path class="git-path" id="path-1"
                  d="M 500,400 C 550,400 580,320 610,270 C 630,240 640,220 660,220 L 1350,220" stroke="var(--accent)"
                  stroke-width="3" fill="none" />

                <!-- UST Global commit -->
                <g class="git-commit git-node" id="node-1" onclick="showExpInfo(1)">
                  <circle cx="700" cy="220" r="16" fill="var(--accent)" stroke="var(--accent)" stroke-width="3" />
                  <text class="git-label" x="700" y="185" text-anchor="middle" fill="var(--accent)">UST GLOBAL</text>
                  <text class="git-date" x="700" y="165" text-anchor="middle">Jul 2024</text>
                </g>

                <!-- Project 1: InfraOps AI (y=100) -->
                <circle class="git-node-sm" cx="800" cy="220" r="5" fill="var(--accent)" />
                <path class="git-path" id="path-2"
                  d="M 800,220 C 840,220 870,180 900,150 C 920,120 935,110 955,100 L 1350,100" stroke="#2ecc71"
                  stroke-width="2.5" fill="none" />
                <g class="git-commit git-node" id="node-2" onclick="showExpInfo(2)">
                  <circle cx="1000" cy="100" r="13" fill="#2ecc71" stroke="#2ecc71" stroke-width="3" />
                  <text class="git-label" x="1000" y="65" text-anchor="middle" fill="#2ecc71">INFRAOPS AI</text>
                </g>

                <!-- Project 2: Insight Gen (y=150) -->
                <circle class="git-node-sm" cx="950" cy="220" r="5" fill="var(--accent)" />
                <path class="git-path" id="path-3"
                  d="M 950,220 C 990,220 1020,200 1050,170 C 1070,160 1085,150 1105,150 L 1350,150" stroke="#9b59b6"
                  stroke-width="2.5" fill="none" />
                <g class="git-commit git-node" id="node-3" onclick="showExpInfo(3)">
                  <circle cx="1180" cy="150" r="13" fill="#9b59b6" stroke="#9b59b6" stroke-width="3" />
                  <text class="git-label" x="1180" y="124" text-anchor="middle" fill="#9b59b6">INSIGHT GEN</text>
                </g>

                <!-- Project 4: AI Monitor (y=280) -->
                <circle class="git-node-sm" cx="1280" cy="220" r="5" fill="var(--accent)" />
                <path class="git-path" id="path-4"
                  d="M 1280,220 C 1300,220 1310,240 1320,260 C 1325,275 1330,280 1335,280 L 1350,280" stroke="#f39c12"
                  stroke-width="2.5" fill="none" />
                <g class="git-commit git-node" id="node-4" onclick="showExpInfo(5)">
                  <circle cx="1347" cy="280" r="13" fill="#f39c12" stroke="#f39c12" stroke-width="3" />
                  <text class="git-label" x="1347" y="315" text-anchor="middle" fill="#f39c12">AI MONITOR</text>
                </g>

                <!-- Project 3: Validation (y=340) -->
                <circle class="git-node-sm" cx="1100" cy="220" r="5" fill="var(--accent)" />
                <path class="git-path" id="path-5"
                  d="M 1100,220 C 1140,220 1170,280 1200,320 C 1220,335 1235,340 1255,340 L 1350,340" stroke="#e74c3c"
                  stroke-width="2.5" fill="none" />
                <g class="git-commit git-node" id="node-5" onclick="showExpInfo(4)">
                  <circle cx="1305" cy="340" r="13" fill="#e74c3c" stroke="#e74c3c" stroke-width="3" />
                  <text class="git-label" x="1305" y="375" text-anchor="middle" fill="#e74c3c">VALIDATION</text>
                </g>
              </g>

              <!-- Timeline markers -->
              <line x1="50" y1="460" x2="1350" y2="460" stroke="var(--border)" stroke-width="0.5" />
              <text x="150" y="490" class="git-date" text-anchor="middle">2021</text>
              <text x="350" y="490" class="git-date" text-anchor="middle">2022</text>
              <text x="450" y="490" class="git-date" text-anchor="middle">2023</text>
              <text x="500" y="490" class="git-date" text-anchor="middle">Jul 2024</text>
              <text x="1200" y="490" class="git-date" text-anchor="middle">Present</text>
            </svg>
          </div>
        </section>
      </div>

      <!-- FOOTER -->
      <div class="nav-footer">
        <a href="#">Mail</a>
        <a href="#">Github</a>
        <a href="#">Linkedin</a>
        <a href="#">Leetcode</a>
      </div>

      <div class="page-footer">
        | MAKING SOFTWARE |<br>
        A REFERENCE MANUAL FOR PEOPLE WHO DESIGN AND BUILD AI.<br>
        © 2025 TARUN • [ SECTION 1990 ]
        <span style="opacity:0.04; margin-left:10px;">attention is all you need</span>
      </div>
  </div>
  </main>
  </div>

  <!-- SCRIPTS -->
  <script>
    // ==========================================
    // REAL MNIST NEURAL NETWORK (Inference Engine)
    // ==========================================

    // Helpers
    const formatProb = (p) => (p * 100).toFixed(1) + '%';

    const initRealNN = () => {
      const weights = window.modelData; // Loaded from model_weights.js
      if (!weights) {
        console.error("Weights not loaded!");
        return;
      }

      // Canvas & UI Setup
      const canvas = document.getElementById("digitCanvas");
      const ctx = canvas.getContext("2d", { willReadFrequently: true });

      // White Canvas, Black Ink (Standard)
      const resetCanvas = () => {
        ctx.fillStyle = "white";
        ctx.fillRect(0, 0, 120, 120);
        ctx.strokeStyle = "black";
        ctx.lineWidth = 8; // Reduced from 12
        ctx.lineCap = "round";
        ctx.lineJoin = "round";
      };
      resetCanvas();

      let drawing = false;
      const getPos = (e) => {
        const r = canvas.getBoundingClientRect();
        return {
          x: (e.touches ? e.touches[0].clientX : e.clientX) - r.left,
          y: (e.touches ? e.touches[0].clientY : e.clientY) - r.top
        };
      };

      // Drawing Handlers
      canvas.addEventListener('mousedown', e => { drawing = true; ctx.beginPath(); ctx.moveTo(getPos(e).x, getPos(e).y); });
      canvas.addEventListener('mousemove', e => {
        if (drawing) {
          ctx.lineTo(getPos(e).x, getPos(e).y);
          ctx.stroke();
          predict();
        }
      });
      const stop = () => { drawing = false; predict(); };
      canvas.addEventListener('mouseup', stop);
      canvas.addEventListener('mouseleave', stop);

      document.getElementById('btnClearSmall').onclick = () => {
        resetCanvas();
        document.getElementById('predValue').innerText = "-";
        updateChart(new Array(10).fill(0));
        document.querySelectorAll('.neuron.active').forEach(n => n.classList.remove('active', 'winner'));
        // Clear visualization values
        window.vizNodes.forEach(n => delete n.val);
        // Redraw viz to clear
        updateViz(new Float32Array(784), new Float32Array(64), new Float32Array(10), -1);
      };

      // Expand Button Logic
      const btnExpand = document.getElementById('btnExpand');
      const nnHero = document.getElementById('nnHero');
      const btnCloseFS = document.getElementById('btnCloseFS');

      btnExpand.onclick = () => {
        nnHero.classList.add('fullscreen');
        document.body.style.overflow = 'hidden'; // Lock scroll
        // Resize logic if needed? CSS handles 80vh
      };

      if (btnCloseFS) {
        btnCloseFS.onclick = () => {
          nnHero.classList.remove('fullscreen');
          document.body.style.overflow = ''; // Unlock scroll
        };
      }

      // Network Config
      const W1 = new Float32Array(weights[0].weights.flat());
      const B1 = new Float32Array(weights[0].biases);
      const W2 = new Float32Array(weights[1].weights.flat());
      const B2 = new Float32Array(weights[1].biases);

      // Visualization Setup
      // Input Layer: 784 is too big. Let's visualize a downscaled grid or just a column.
      // User asked for "input nodes are missing".
      // Let's add a column of 50 representative nodes for Layer 0.
      buildViz(784, 64, 10);

      // PREDICTION ENGINE
      function predict() {
        const startT = performance.now();

        const input = extractInput();
        if (!input) return;

        // 2. Forward Pass (L1)
        const h_activations = new Float32Array(64);
        for (let j = 0; j < 64; j++) {
          let sum = B1[j];
          for (let i = 0; i < 784; i++) {
            if (input[i] > 0) {
              sum += input[i] * W1[i * 64 + j];
            }
          }
          h_activations[j] = Math.max(0, sum);
        }

        // 3. Forward Pass (L2)
        const o_activations = new Float32Array(10);
        for (let j = 0; j < 10; j++) {
          let sum = B2[j];
          for (let i = 0; i < 64; i++) {
            sum += h_activations[i] * W2[i * 10 + j];
          }
          o_activations[j] = sum;
        }

        // Softmax
        const maxLogit = Math.max(...o_activations);
        const exps = o_activations.map(l => Math.exp(l - maxLogit));
        const sumExps = exps.reduce((a, b) => a + b, 0);
        const probs = exps.map(e => e / sumExps);

        const endT = performance.now();
        document.getElementById('infTime').innerText = (endT - startT).toFixed(2);

        // 4. Update UI
        const pred = probs.indexOf(Math.max(...probs));
        document.getElementById('predValue').innerText = pred;
        updateChart(probs);

        // Pass Input to Viz? We need a summarized input for the 50 nodes.
        // Let's map 784 -> 50 by averaging chunks? Or just sampling?
        // Sampling is easier. 784 / 50 ~= 15.6. Step 15.
        updateViz(input, h_activations, probs, pred);
      }

      // Helper: Canvas to Input (Invert Colors for MNIST)
      function extractInput() {
        const tempCanvas = document.createElement('canvas');
        tempCanvas.width = 28; tempCanvas.height = 28;
        const tCtx = tempCanvas.getContext('2d');
        tCtx.drawImage(canvas, 0, 0, 28, 28);
        const imgData = tCtx.getImageData(0, 0, 28, 28).data;
        const input = new Float32Array(784);
        let hasUrl = false;
        for (let i = 0; i < 784; i++) {
          const val = (255 - imgData[i * 4]);
          input[i] = val / 255.0;
          if (val > 0) hasUrl = true;
        }
        return hasUrl ? input : null;
      }

      function updateChart(probs) {
        const chart = document.getElementById('confChart');
        chart.innerHTML = '';
        probs.forEach((p, i) => {
          const row = document.createElement('div');
          row.className = 'bar-row';
          row.innerHTML = `
                   <div class="bar-label" style="width:20px; font-size:14px;">${i}</div>
                   <div class="bar-ui" style="height:12px;"><div class="bar-fill" style="width: ${p * 100}%"></div></div>
                   <div style="width:40px; text-align:right; font-size:14px;">${Math.round(p * 100)}%</div>
                `;
          chart.appendChild(row);
        });
      }
    };

    // VIZ BUILDER 
    function buildViz(l1, l2, l3) {
      const svg = document.getElementById("nnSvg");
      svg.innerHTML = '';
      // Make it bigger
      const width = 800, height = 300;
      svg.setAttribute('viewBox', `0 0 ${width} ${height}`);

      const layerGap = width / 4;

      const neurons = [];
      const linesGroup = document.createElementNS("http://www.w3.org/2000/svg", "g");
      svg.appendChild(linesGroup);
      const nodesGroup = document.createElementNS("http://www.w3.org/2000/svg", "g");
      svg.appendChild(nodesGroup);

      // Input Layer (Sampled 50 nodes)
      const inputCount = 50;
      const yGapI = height / (inputCount + 1);
      for (let i = 0; i < inputCount; i++) {
        const cx = layerGap * 1.0;
        const cy = (i + 1) * yGapI;
        const realIdx = Math.floor(i * (784 / inputCount));
        const c = createNode(cx, cy, 0, realIdx);
        c.setAttribute('r', 2);
        nodesGroup.appendChild(c);
        neurons.push({ el: c, cx, cy, layer: 0, idx: realIdx, vIdx: i });
      }

      // Hidden Layer
      const yGapH = height / (64 + 1);
      for (let i = 0; i < 64; i++) {
        const cx = layerGap * 2.0;
        const cy = (i + 1) * yGapH;
        const c = createNode(cx, cy, 1, i);
        nodesGroup.appendChild(c);
        neurons.push({ el: c, cx, cy, layer: 1, idx: i });
      }

      // Output Layer
      const yGapO = height / (10 + 1);
      for (let i = 0; i < 10; i++) {
        const cx = layerGap * 3.0;
        const cy = (i + 1) * yGapO;
        const c = createNode(cx, cy, 2, i);
        c.setAttribute('r', 6);
        nodesGroup.appendChild(c);
        neurons.push({ el: c, cx, cy, layer: 2, idx: i });
      }

      const edges = [];
      // L0 -> L1 Edges (Sampled: connect each L0 to 3 random L1s)
      neurons.filter(n => n.layer === 0).forEach(inp => {
        const targets = neurons.filter(n => n.layer === 1).sort(() => 0.5 - Math.random()).slice(0, 3);
        targets.forEach(hid => {
          const l = document.createElementNS("http://www.w3.org/2000/svg", "line");
          l.setAttribute("x1", inp.cx); l.setAttribute("y1", inp.cy);
          l.setAttribute("x2", hid.cx); l.setAttribute("y2", hid.cy);
          l.classList.add("edge");
          linesGroup.appendChild(l);
          edges.push({ el: l, src_layer: 0, src_idx: inp.idx, tgt_idx: hid.idx });
        });
      });

      // L1 -> L2 Edges (All)
      neurons.filter(n => n.layer === 1).forEach(h => {
        neurons.filter(n => n.layer === 2).forEach(o => {
          const l = document.createElementNS("http://www.w3.org/2000/svg", "line");
          l.setAttribute("x1", h.cx); l.setAttribute("y1", h.cy);
          l.setAttribute("x2", o.cx); l.setAttribute("y2", o.cy);
          l.classList.add("edge");
          linesGroup.appendChild(l);
          edges.push({ el: l, src_layer: 1, src_idx: h.idx, tgt_idx: o.idx });
        });
      });

      window.vizNodes = neurons;
      window.vizEdges = edges;
    }

    function createNode(cx, cy, layer, idx) {
      const c = document.createElementNS("http://www.w3.org/2000/svg", "circle");
      c.setAttribute("cx", cx); c.setAttribute("cy", cy); c.setAttribute("r", layer === 1 ? 3 : 5);
      c.classList.add("neuron");
      c.addEventListener('mouseenter', (e) => showTooltip(e, layer, idx));
      c.addEventListener('mouseleave', hideTooltip);
      return c;
    }

    // VIZ UPDATE
    function updateViz(input, hidden, output, winnerIdx) {
      // Update Nodes
      window.vizNodes.filter(n => n.layer === 0).forEach(n => {
        const val = input ? input[n.idx] : 0;
        n.val = val;
        n.el.style.opacity = Math.min(0.2 + val * 0.8, 1);
        n.el.style.fill = val > 0 ? "var(--accent)" : "white";
      });
      window.vizNodes.filter(n => n.layer === 1).forEach(n => {
        const val = hidden[n.idx];
        n.val = val;
        n.el.style.opacity = Math.min(0.2 + val * 0.6, 1);
        if (val > 0) n.el.classList.add('active');
        else n.el.classList.remove('active');
      });
      window.vizNodes.filter(n => n.layer === 2).forEach(n => {
        const val = output[n.idx];
        n.val = val;
        n.el.style.opacity = Math.min(0.3 + val, 1);
        if (n.idx === winnerIdx) n.el.classList.add('winner', 'active');
        else n.el.classList.remove('winner', 'active');
      });

      // Update Edges
      for (let i = 0; i < window.vizEdges.length; i++) {
        const e = window.vizEdges[i];

        if (e.src_layer === 0) {
          // L0->L1
          const val = input ? input[e.src_idx] : 0;
          if (val > 0.1) {
            e.el.style.opacity = 0.4;
            e.el.style.strokeWidth = '0.5px';
          } else {
            e.el.style.opacity = 0.02;
            e.el.style.strokeWidth = '0.5px';
          }
        } else {
          // L1->L2
          const hVal = hidden[e.src_idx];
          if (hVal > 0.5 && e.tgt_idx === winnerIdx) {
            e.el.style.opacity = 0.7;
            e.el.style.strokeWidth = '1.5px';
          } else {
            e.el.style.opacity = 0.04;
            e.el.style.strokeWidth = '0.5px';
          }
        }
      }
    }

    // TOOLTIP LOGIC
    const tooltip = document.getElementById('nn-tooltip');

    function showTooltip(e, layer, idx) {
      const n = window.vizNodes.find(x => x.layer === layer && x.idx === idx);
      const rect = n.el.getBoundingClientRect();
      // Adjust for fullscreen vs normal
      const isFS = document.getElementById('nnHero').classList.contains('fullscreen');
      const heroRect = isFS ? { top: 0, left: 0 } : document.querySelector('.nn-hero').getBoundingClientRect();

      const top = rect.top - heroRect.top - 40;
      const left = rect.left - heroRect.left - 20;

      // Get Bias
      let bias = 0;
      const weights = window.modelData;
      if (weights) {
        if (layer === 1) bias = weights[0].biases[idx];
        else if (layer === 2) bias = weights[1].biases[idx];
      }

      let content = '';
      if (layer === 0) {
        content = `Input Pixel [${idx}]\nValue: ${(n.val || 0).toFixed(2)}`;
      } else if (layer === 1) {
        content = `Hidden Neuron #${idx}\nActivation: ${(n.val || 0).toFixed(4)}\nBias: ${bias.toFixed(4)}`;
      } else {
        content = `Output Neuron #${idx}\nProbability: ${(n.val * 100 || 0).toFixed(2)}%\nBias: ${bias.toFixed(4)}`;
      }

      tooltip.innerHTML = content;
      tooltip.style.top = top + 'px';
      tooltip.style.left = left + 'px';
      tooltip.style.opacity = 1;
      tooltip.style.zIndex = 10000; // High Z for Fullscreen
    }

    function hideTooltip() { tooltip.style.opacity = 0; }

    // MOUNTAIN TIMELINE LOGIC
    function toggleExp(idx) {
      const card = document.getElementById('expInfoCard');
      const title = document.getElementById('expInfoTitle');
      const desc = document.getElementById('expInfoDesc');
      const peaks = document.querySelectorAll('.mountain-peak');

      const peak = peaks[idx];
      const pTitle = peak.getAttribute('data-title');
      const pDesc = peak.getAttribute('data-desc');

      title.innerText = pTitle;
      desc.innerText = pDesc;

      // Position Card
      const rect = peak.getBoundingClientRect();
      const containerRect = document.querySelector('.timeline-container').getBoundingClientRect();

      card.style.left = (rect.left - containerRect.left + rect.width / 4) + 'px';
      card.style.top = (rect.top - containerRect.top - 100) + 'px';

      // Toggle
      if (card.classList.contains('visible') && card.dataset.activeIdx == idx) {
        card.classList.remove('visible');
        card.dataset.activeIdx = -1;
      } else {
        card.classList.add('visible');
        card.dataset.activeIdx = idx;
      }
    }

    function initMountainAnimations() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const peaks = entry.target.querySelectorAll('.mountain-peak');
            peaks.forEach((peak, i) => {
              peak.style.transition = `all 1s cubic-bezier(0.165, 0.84, 0.44, 1) ${i * 0.2}s`;
              peak.style.transform = 'scaleY(1)';
              peak.style.opacity = peak.dataset.originalOpacity || 0.7;
            });
          }
        });
      }, { threshold: 0.2 });

      const section = document.querySelector('.mountain-experience');
      if (section) {
        // Initial state
        section.querySelectorAll('.mountain-peak').forEach(peak => {
          peak.dataset.originalOpacity = peak.style.opacity;
          peak.style.transform = 'scaleY(0)';
          peak.style.transformOrigin = 'bottom';
          peak.style.opacity = '0';
        });
        observer.observe(section);
      }
    }

    // ==========================================
    // EXPERIENCE VISUALIZATION FUNCTIONS
    // ==========================================

    const expData = [
      {
        title: "Open Source Contributor",
        meta: "2021-PRESENT",
        desc: "Actively contributing to various open source projects, improving code quality, fixing bugs, and adding new features. Focus on LLM tooling, LangChain adapters, and web performance optimization."
      },
      {
        title: "Product Engineer Associate I - UST",
        meta: "JULY 2024-PRESENT",
        desc: "Leading AI initiatives and developing enterprise-grade solutions for Fortune 500 clients. Managing multiple AI/ML projects focused on infrastructure automation, data insights, and intelligent monitoring systems."
      },
      {
        title: "InfraOps AI Agent",
        meta: "UST PROJECT",
        desc: "Designed and implemented an AI agent leveraging LLMs to monitor infrastructure health (uptime, CPU utilization, anomaly detection). Built automation features for remediation tasks with human-in-the-loop approval. Developed an interactive Streamlit UI with dynamic visualization graphs."
      },
      {
        title: "AI Insight Generator",
        meta: "UST PROJECT",
        desc: "Built an Excel-driven insight engine with schema extraction and DB storage. Used LLMs to generate SQL queries, summarize results, and recommend actions. Delivered streaming chat-style outputs with multi-agent support for different file types and dynamic graph generation."
      },
      {
        title: "Validation Module",
        meta: "UST PROJECT",
        desc: "Led a team to R&D and develop a plugin that sanitized sensitive data before AI model ingestion by masking and later demasking data using secure mapping, ensuring compliance and safety."
      },
      {
        title: "AI-Based Monitoring Automator",
        meta: "UST PROJECT",
        desc: "Developed an AI-driven monitoring system that decomposed user input into tasks, referenced SOPs/knowledge bases, and automated log analysis, anomaly detection, and root cause identification."
      }
    ];

    function switchViz(vizType) {
      // Update tabs
      document.querySelectorAll('.viz-tab').forEach(tab => tab.classList.remove('active'));
      event.target.classList.add('active');

      // Update containers
      document.querySelectorAll('.viz-container').forEach(container => container.classList.remove('active'));
      if (vizType === 'nn') {
        document.getElementById('nnViz').classList.add('active');
      } else {
        document.getElementById('gitViz').classList.add('active');
      }

      // Hide info card when switching
      document.getElementById('expInfoCard').classList.remove('visible');
    }

    function showExpInfo(idx) {
      const card = document.getElementById('expInfoCard');
      const title = document.getElementById('expInfoTitle');
      const meta = document.getElementById('expInfoMeta');
      const desc = document.getElementById('expInfoDesc');

      const exp = expData[idx];
      title.innerText = exp.title;
      meta.innerText = exp.meta;
      desc.innerText = exp.desc;

      // Position card near click
      const event = window.event;
      if (event) {
        const section = document.querySelector('.experience-section');
        const rect = section.getBoundingClientRect();

        card.style.left = Math.min(event.clientX - rect.left, rect.width - 400) + 'px';
        card.style.top = (event.clientY - rect.top + 20) + 'px';
      }

      // Toggle visibility
      if (card.classList.contains('visible') && card.dataset.activeIdx == idx) {
        card.classList.remove('visible');
        card.dataset.activeIdx = -1;
      } else {
        card.classList.add('visible');
        card.dataset.activeIdx = idx;
      }
    }

    function initExpAnimations() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            // Animate NN nodes
            const nnNodes = entry.target.querySelectorAll('.nn-node');
            nnNodes.forEach((node, i) => {
              setTimeout(() => {
                node.style.transition = 'all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1)';
                node.style.transform = 'scale(1)';
                node.style.opacity = '1';
              }, i * 150);
            });

            // Animate connections
            const connections = entry.target.querySelectorAll('.nn-connection');
            connections.forEach((conn, i) => {
              setTimeout(() => {
                conn.style.transition = 'all 0.4s ease-out';
                conn.style.opacity = '0.3';
              }, 600 + i * 100);
            });
          }
        });
      }, { threshold: 0.2 });

      const section = document.querySelector('.experience-section');
      if (section) {
        // Initial state for NN nodes
        section.querySelectorAll('.nn-node').forEach(node => {
          node.style.transform = 'scale(0)';
          node.style.opacity = '0';
        });
        section.querySelectorAll('.nn-connection').forEach(conn => {
          conn.style.opacity = '0';
        });
        observer.observe(section);
      }
    }

    function initGitAnimations() {
      const svg = document.getElementById('gitSvg');
      const zoomGroup = document.getElementById('gitZoomGroup');
      if (!svg || !zoomGroup) return;

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            startGitAnimation();
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.3 });

      const container = document.getElementById('gitViz');
      if (container) observer.observe(container);
    }

    function startGitAnimation() {
      const svg = document.getElementById('gitSvg');
      svg.classList.add('zooming');

      const sequence = [
        { id: 'path-0', delay: 500 },
        { id: 'path-1', delay: 1500 },
        { id: 'path-2', delay: 2500 },
        { id: 'path-3', delay: 2800 },
        { id: 'path-4', delay: 3100 },
        { id: 'path-5', delay: 3400 }
      ];

      sequence.forEach(item => {
        const p = document.getElementById(item.id);
        if (p) {
          const len = p.getTotalLength();
          p.style.strokeDasharray = len;
          p.style.strokeDashoffset = len;

          setTimeout(() => {
            p.classList.add('git-path-anim');

            const nodeId = item.id.replace('path', 'node');
            const node = document.getElementById(nodeId);
            if (node) {
              setTimeout(() => {
                node.classList.add('git-node-anim');
              }, 1000);
            }
          }, item.delay);
        }
      });

      // Initial Open Source node
      const node0 = document.getElementById('node-0');
      if (node0) {
        node0.style.opacity = 0;
        setTimeout(() => node0.classList.add('git-node-anim'), 500);
      }
    }

    // Run Init
    window.addEventListener('load', () => {
      if (typeof initRealNN === 'function') initRealNN();
      initExpAnimations();
      initGitAnimations();
    });
  </script>
</body>

</html>